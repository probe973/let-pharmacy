<!-- 1. Liquid Logic: Grab the data from the folder specified in the 'folder' parameter -->
{% assign test_folder = site.data[include.folder] %}

<section class="test-container" aria-labelledby="test-heading">
    <div class="test-header">
        <h2 id="test-heading">Practice Test: 6020Y</h2>
        
        <!-- Accessible Status Region for Timer and Question Count -->
        <div class="test-status-bar" aria-live="polite">
            <p>Total Questions: <strong>{{ test_folder | size }}</strong></p>
            <p>Time Elapsed: <span id="test-timer">0:00</span></p>
        </div>
    </div>

    <!-- 2. The Container where JavaScript will build the questions -->
    <div id="test-questions-container">
        <!-- Questions will be injected here as fieldsets for accessibility -->
    </div>

    <!-- 3. The Footer Actions -->
    <div class="test-footer">
        <button type="button" id="btn-submit-test" class="btn">Check All Answers</button>
        
        <!-- This region is announced immediately when the score is calculated -->
        <div id="test-results" class="final-results-box" style="display:none;" aria-live="assertive">
            <!-- Results and Restart button injected here -->
        </div>
    </div>
</section>

<!-- 4. Data Bridge: Convert the Jekyll folder data into a JS variable -->
<script>
    const testData = {{ test_folder | jsonify }};
</script>

<!-- 5. Load the specific logic for this test mode -->
<script src="{{ '/assets/js/test-logic.js' | relative_url }}"></script>
